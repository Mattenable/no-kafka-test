{
  "name": "wrr-pool",
  "description": "Weighted Round Robin Resource pool",
  "homepage": "http://github.com/oleksiyk/wrr-pool",
  "author": {
    "name": "Oleksiy Krivoshey",
    "email": "oleksiyk@gmail.com"
  },
  "version": "1.1.3",
  "main": "./lib/index.js",
  "keywords": [
    "weighted",
    "roundrobin"
  ],
  "dependencies": {
    "lodash": "^4.0.1"
  },
  "devDependencies": {
    "mocha": "^2.4.5",
    "chai": "^3.5.0",
    "eslint": "^1.10.3",
    "eslint-config-airbnb": "^5.0.0",
    "istanbul": "^0.4.2"
  },
  "bugs": {
    "url": "https://github.com/oleksiyk/wrr-pool/issues"
  },
  "scripts": {
    "test": "make"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/oleksiyk/wrr-pool.git"
  },
  "readmeFilename": "README.md",
  "license": "MIT",
  "readme": "[![Build Status](https://travis-ci.org/oleksiyk/wrr-pool.svg)](https://travis-ci.org/oleksiyk/wrr-pool)\n[![Test Coverage](https://codeclimate.com/github/oleksiyk/wrr-pool/badges/coverage.svg)](https://codeclimate.com/github/oleksiyk/wrr-pool/coverage)\n[![Dependencies](https://david-dm.org/oleksiyk/wrr-pool.svg)](https://david-dm.org/oleksiyk/wrr-pool)\n[![DevDependencies](https://david-dm.org/oleksiyk/wrr-pool/dev-status.svg)](https://david-dm.org/oleksiyk/wrr-pool#info=devDependencies)\n\n# WRRPool\n\nWRRPool is a Weighted Round Robin resource pool\n\n## Using\n\n```\nnpm install wrr-pool\n```\n\n#### Basic usage\n\n```javascript\nvar WRRPool = require('wrr-pool');\n\nvar pool = new WRRPool();\n\npool.add('A', 4); // pool.add({ host: '10.0.1.10', port: 8087}, 4)\npool.add('B', 3); // pool.add({ host: '10.0.1.11', port: 8087}, 3)\npool.add('C', 2); // pool.add({ host: '10.0.1.12', port: 8087}, 2)\n\npool.next(); // A\npool.next(); // A\npool.next(); // B\npool.next(); // A\npool.next(); // B\npool.next(); // C\npool.next(); // A\npool.next(); // B\npool.next(); // C\n```\n\n#### Get resource and its weight\n\n```javascript\nvar pool = new WRRPool();\n\npool.add({ id: 1 }, 4);\npool.add({ id: 2 }, 3);\npool.add({ id: 3 }, 2);\n\npool.get({ id: 2 }); // => { value: { id: 2 }, weight: 3 }\n```\n\n```javascript\nvar pool = new WRRPool();\n\npool.add({ id: 1 }, 4);\npool.add({ id: 2 }, 3);\npool.add({ id: 3 }, 2);\n\npool.get(function (v){ return v.id === 2; }); // => { value: { id: 2 }, weight: 3 }\n```\n\n#### Update resource value and/or weight\n\n```javascript\nvar pool = new WRRPool();\n\npool.add('A', 4);\npool.add('B', 3);\npool.add('C', 2);\n\n// update value to 'B1' and weight to 4\npool.update(function (v) { return v === 'B';}, 'B1', 4); // => returns index of updated element or undefined if not found\n```\n\n#### Remove resource from pool\n\n```javascript\nvar pool = new WRRPool();\n\npool.add('A', 4);\npool.add('B', 3);\npool.add('C', 2);\n\npool.remove(function (v) { return v === 'C';});  // => returns index of removed element or undefined if not found\n```\n\n## License\nMIT\n",
  "_id": "wrr-pool@1.1.3",
  "_shasum": "fdad22f2ea1f30363ffe5d781cf79497a77ff07e",
  "_resolved": "https://nexus.cloud.aws.tenablesecurity.com/content/groups/tenable-cloud-node/wrr-pool/-/wrr-pool-1.1.3.tgz",
  "_from": "wrr-pool@>=1.0.3 <2.0.0"
}
